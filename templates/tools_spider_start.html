<!DOCTYPE html>
<html>
<head>
	<title>启动爬虫工具</title>
    <meta charset="UTF-8">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


</head>

<body>
	<div class = "row">
		<div class = "col-md-2"></div>
		<div class = "form-group col-md-6">
			<div>
				<label style="color: red">输入task_id启动爬虫1</label>
				<input type="text" class="form-control" id="taskid1" placeholder="请输入task_id">
				<label id = "state1" >状态:</label>
				<div class = "row"></div>
				<button class="btn-primary" onclick="start_spider1()";>查询</button>
			</div>
		</div>
	</div>

	<div class = "row">
		<div class = "col-md-2"></div>
		<div class = "form-group col-md-6">
			<div>
				<label style="color: red">输入task_id启动爬虫2</label>
				<input type="text" class="form-control" id="taskid2" placeholder="请输入task_id">
				<label id = "state2" >状态:</label>
				<div class = "row"></div>
				<button class="btn-primary" onclick="start_spider2()";>查询</button>
			</div>
		</div>
	</div>

	<div class = "row">
		<div class = "col-md-2"></div>
		<div class = "form-group col-md-6">
			<div>
				<label style="color: red">输入task_id启动爬虫2错误重试</label>
				<input type="text" class="form-control" id="taskid3" placeholder="请输入task_id">
				<label id = "state3" >状态:</label>
				<div class = "row"></div>
				<button class="btn-primary" onclick="start_spider2_add()";>查询</button>
			</div>
		</div>

	</div>


</body>

<script>

	function start_spider1(){
		$.ajax({
        	type:"GET",
        	url:"/celery/spider1/"+$("#taskid1").val(),
        	success:function(data){
				//var obj = JSON.parse(data);
				$("#state1").text("状态:任务"+data+"，爬虫1成功启动");
        	},
        	error:function(jqXHR){
           		alert("发生错误："+ jqXHR.status);
        	}
		});
	}


		function start_spider2(){
		$.ajax({
        	type:"GET",
        	url:"/celery/spider2/"+$("#taskid2").val(),
        	success:function(data){
				//var obj = JSON.parse(data);
				$("#state2").text("状态:任务"+data+"，爬虫2成功启动");
        	},
        	error:function(jqXHR){
           		alert("发生错误："+ jqXHR.status);
        	}
		});

	}


	function start_spider2_add(){
		$.ajax({
        	type:"GET",
        	url:"/celery/spider2add/"+$("#taskid3").val(),
        	success:function(data){
				//var obj = JSON.parse(data);
				$("#state3").text("状态:任务"+data+"，爬虫2重试成功启动");
        	},
        	error:function(jqXHR){
           		alert("发生错误："+ jqXHR.status);
        	}
		});
	}

</script>
</html>